const ko="ko-KR"===navigator.language,greetings=document.getElementById("greetings"),todoinput=document.getElementById("toDoInput"),searchinput=document.getElementById("search-input"),todolist=document.getElementById("toDoList"),labeltarget=document.querySelectorAll("label[data-target]"),bmlist=document.getElementById("bookmark-list"),focus=document.getElementById("focus");let p,playerState,time,focusing,tmpnumber=1,bmknumber=1,urlnumber=1,carouseli=0,todoarray=[],bookmarkarray=[],user={name:"",location:{latitude:0,longitude:0,city:""},toDo:[],bookmark:[],bgOpacity:50,dDay:0,searchEngine:"google",hiddenElem:[],setting:{clock24:0,mvbg:0,carousel:0,carouselNum:3,carouselSpeed:5,bgMV:1,bgB:0,bgSM:0,displayDone:1,importantDone:1,pauseVisibility:0,pauseFocus:0,playRandom:1},focus:{state:0,pausedTime:0,time:0,ms:0}};Array.prototype.remove=function(){for(var b,c,d=arguments,a=d.length;a&&this.length;)for(b=d[--a];-1!==(c=this.indexOf(b));)this.splice(c,1);return this};function init(){const a=localStorage.getItem("TNT-userData");null===a||(user=JSON.parse(a))}function saveData(){localStorage.setItem("TNT-userData",JSON.stringify(user))}function reset(){localStorage.removeItem("TNT-userData")}function carousel(){let c;const d=document.getElementsByClassName("carousel-item"),b=+(1e3*document.getElementById("carouselSpeed").value);if(!document.getElementById("mvbg").checked&&document.getElementById("carousel").checked){for(c=0;c<d.length;c++)d[c].classList.remove("reveal");carouseli++,carouseli>d.length&&(carouseli=1),d[carouseli-1].classList.add("reveal"),setTimeout(carousel,b)}}function loadsetting(){setttrue("clock24"),setttrue("mvbg"),setttrue("carousel"),settval("carouselNum"),settval("carouselSpeed"),settfalse("bgMV"),setttrue("bgB"),setttrue("bgSM"),settfalse("displayDone"),settfalse("importantDone"),setttrue("pauseVisibility"),setttrue("pauseFocus"),setttrue("playRandom")}function setttrue(b){1===user.setting[b]&&(document.getElementById(b).checked=1)}function settval(b){document.getElementById(b).value=+user.setting[b]}function settfalse(b){0===user.setting[b]&&(document.getElementById(b).checked=0)}function savesetting(a,b){user.setting[a]=+b,saveData(),toast(`${ko?"\uBCC0\uACBD\uC0AC\uD56D\uC774 \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4.":"Saved"}`)}function saveradio(a,b){user[b]=a,saveData(),toast(`${ko?"\uBCC0\uACBD\uC0AC\uD56D\uC774 \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4.":"Saved"}`)}function loadradio(){document.getElementById(user.searchEngine).checked=1}function initelem(){Array.from(labeltarget).forEach(b=>{const a=b.getAttribute("data-target");-1!==user.hiddenElem.indexOf(a)&&(document.getElementById(a).classList.add("instant-hide"),b.querySelector("input").checked=0)})}function hideelem(a){const b=document.getElementById(a),c=document.querySelector(`label[data-target="${a}"]`).querySelector("input");b.classList.contains("hiding")||c.checked||b.classList.contains("instant-hide")?(b.removeAttribute("style"),b.classList.remove("hiding","instant-hide"),user.hiddenElem.remove(a),saveData()):(b.style.opacity="0",b.classList.add("hiding"),user.hiddenElem.push(a),saveData())}function randombg(){const a=700<=window.innerWidth?["CDNoBuI","yQB78pP","pb9HDW0","EBHFvt0","5UvsvlI","YB4ft4S","ucHTu5A","RJKA8cA","7It9gpI","yRKJmbD","FZh41Ox","MsFrNXc","OFMw9OT","0NMgc4S","SQL6zxU","8m2qwTw","GSgHNYR","q7wmxfH","iPFRBZN","ZmmYlBn","PSNiw7U"]:["PPLTeMk","xS3MHeE","XQMtLXx","ZuFeZOk","aR0c3AZ","EiBsqa5","xovtmVG","7TTzmPj"],b=a[Math.round(Math.random()*(a.length-1))],c=document.getElementById("mvbg").checked,d=document.getElementById("carousel").checked,e=+document.getElementById("carouselNum").value,f=document.createElement("div"),g=document.createElement("div");let h,j,k;if(!(c||d))h=document.createElement("img"),h.id="bg",h.src=`https://i.imgur.com/${b}.jpg`,document.body.prepend(h),h.onload=function(){loadbgopacity()};else if(c&&(h=document.createElement("div"),h.id="videoWrapper",g.id="player",f.id="bg",h.append(g),f.append(h),document.body.prepend(f)),d&&!c){for(let b=0;b<e;b++)k=Math.round(Math.random()*(a.length-1)),j=a[k],h=document.createElement("img"),h.src=`https://i.imgur.com/${j}.jpg`,h.className="carousel-item",f.append(h),a.splice(k,1);f.id="bg",document.body.prepend(f),h.onload=function(){loadbgopacity()},window.onload=function(){carousel()}}}function bgopacity(){const a=document.getElementById("bgopacity").value/100,b=document.getElementById("bg");b.style.opacity=a,document.getElementById("bgo-value").innerText=a}function loadbgopacity(){const a=document.getElementById("bgopacity"),b=document.getElementById("bg"),c=+user.bgOpacity;b.style.opacity=c/100,a.value=c,document.getElementById("bgo-value").innerText=c/100}function savebgopacity(){user.bgOpacity=document.getElementById("bgopacity").value,saveData(),toast(`${ko?"\uBCC0\uACBD\uC0AC\uD56D\uC774 \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4.":"Saved"}`)}function getname(){const a=user.name,b=document.getElementById("nameless");""===a?(document.body.classList.add("nameplz"),document.getElementById("name").addEventListener("keypress",function(a){"Enter"===a.key&&setname(),getname()})):(greetings.querySelector(".name").innerText=`${ko?`${a} 님`:a}`,null!==b&&b.remove())}function setname(){const a=document.getElementById("name").value;""!==a&&(user.name=a,saveData(),toast(`${ko?`${a}로 이름이 저장되었습니다.`:`Name has saved to ${a}`}`),document.body.classList.remove("nameplz"))}function rename(){const a=document.getElementById("rename").value;""!==a&&(user.name=a,saveData(),toast(`${ko?`${a}로 이름이 저장되었습니다.`:`Name has saved to ${a}`}`),document.body.classList.remove("nameplz"))}function clock(){const a=new Date,b=a.getHours(),c=a.getMinutes(),d=a.getSeconds(),e=document.getElementById("clock");e.innerText=`${0===b?"12":12<b&&!document.getElementById("clock24").checked?`${b-12}`:b} : ${10>c?`0${c}`:c} : ${10>d?`0${d}`:d}`,document.getElementById("clock24").checked?e.classList.remove("pm","am"):12<b?(e.classList.add("pm"),e.classList.remove("am")):(e.classList.add("am"),e.classList.remove("pm"))}function setgreetings(){const a=new Date,b=a.getHours(),c=["\uC77C","\uC6D4","\uD654","\uC218","\uBAA9","\uAE08","\uD1A0"][a.getDay()];let d,e;0<=b&&5>=b&&(ko?d=["\uC2DC\uAC04\uC774 \uB9CE\uC774 \uB2A6\uC5C8\uC5B4\uC694","\uC8FC\uBB34\uC2E4 \uC2DC\uAC04\uC774 \uB418\uC9C0 \uC54A\uC558\uB098\uC694"]:d=["It's too late","I think you'd better go to bed"]),6<=b&&7>=b&&(ko?d=[`${c}요일 하루가 시작되네요`]:d=["Good Morning"]),8<=b&&10>=b&&(ko?d=["\uC88B\uC740 \uC544\uCE68\uC785\uB2C8\uB2E4"]:d=["Good morning"]),11<=b&&17>=b&&(ko?d=["\uC548\uB155\uD558\uC138\uC694","\uC624\uD6C4 \uC77C\uC815\uB3C4 \uD798\uB0B4\uC138\uC694"]:d=["Hello","Good afternoon"]),18<=b&&23>=b&&(ko?d=["\uC624\uB298 \uD558\uB8E8\uB294 \uC798 \uB9C8\uBB34\uB9AC\uD558\uACE0 \uACC4\uC2E0\uAC00\uC694"]:d=["Did you have a great day","Good night"]),e=d[Math.round(Math.random()*(d.length-1))],greetings.querySelector(".punctuation").innerText=/가요|나요|Did you/g.test(e)?"?":".",greetings.querySelector(".text").innerText=e}function checktodo(){const b=document.querySelector(".clearallwrapper");0===todoarray.length?b.classList.remove("reveal"):(186<toDoList.scrollHeight&&todolist.classList.add("expand"),b.classList.add("reveal"))}function addtodo(a,b,c){const d=document.createElement("div"),e=document.createElement("div"),f=document.createElement("span"),g=document.createElement("span"),h=document.createElement("span"),i=document.createElement("span"),j=document.createElement("span"),k=document.createElement("span"),l=document.createElement("span"),m=tmpnumber;let n,o;f.innerText=a,f.className="todo-text",g.className="ico-wrap",h.className="icon-ellipsis-h",i.className="icon-trash",j.className="icon-pencil",k.className="icon-exclamation",l.className="checkbox",i.addEventListener("click",deletetodo),j.addEventListener("click",modifytodo),l.addEventListener("click",donetodo),h.addEventListener("click",function(){const b=this.parentNode;Array.from(document.querySelectorAll(".todo-item.option")).forEach(c=>{c!==b&&c.classList.remove("option")}),b.classList.toggle("option")}),"true"===c&&(l.checked=1),k.addEventListener("click",importanttodo),d.setAttribute("data-id",m),d.setAttribute("data-important",b),d.setAttribute("data-done",c),d.classList.add("todo-item","darkbg"),g.append(i,j,k),d.append(l,f,g,h),todolist.appendChild(d),n=l.cloneNode(),o=f.cloneNode(),o.innerText=a,n.addEventListener("click",donetodo),n.addEventListener("click",donecheck),"true"===c&&(e.className="done"),e.setAttribute("data-id",m),e.setAttribute("data-important",b),e.setAttribute("data-done",c),e.append(n,o),document.getElementById("toDoDone").querySelector(".done-inner").append(e),todoinput.value="",todoarray.push({text:a,id:m,important:b,done:c}),tmpnumber++,checktodo(),savetodo()}function deletetodo(a){const b=a.target.parentNode.parentNode.getAttribute("data-id"),c=todoarray.filter(function(c){return c.id!==+b});Array.from(document.querySelectorAll(`[data-id="${b}"]`)).forEach(b=>{b.remove()}),todoarray=c,checktodo(),savetodo(),toast(`${ko?"\uC0AD\uC81C\uD588\uC2B5\uB2C8\uB2E4.":"Removed"}`)}function deletedonetodo(){const a=todoarray.filter(function(b){return"false"===b.done});Array.from(document.querySelectorAll("[data-done='true']")).forEach(b=>{b.remove()}),todoarray=a,checktodo(),savetodo(),toast(`${ko?"\uC0AD\uC81C\uD588\uC2B5\uB2C8\uB2E4.":"Removed"}`)}function displaydone(){!0===document.getElementById("displayDone").checked?document.body.classList.add("hidedone"):document.body.classList.remove("hidedone"),!0===document.getElementById("importantDone").checked?document.body.classList.add("importantdone"):document.body.classList.remove("importantdone")}function importanttodo(b){const a=b.target.parentNode.parentNode;"true"===todoarray.find(b=>b.id===+a.getAttribute("data-id")).important?(todoarray.find(b=>b.id===+a.getAttribute("data-id")).important="false",a.setAttribute("data-important","false")):(todoarray.find(b=>b.id===+a.getAttribute("data-id")).important="true",a.setAttribute("data-important","true")),savetodo()}function donetodo(b){const a=b.target.parentNode,c=a.getAttribute("data-id"),d=document.getElementById("openToDo");"true"===a.getAttribute("data-done")?(a.classList.contains("todo-item")&&d.classList.remove("vibrate"),todoarray.find(a=>a.id===+c).done="false",Array.from(document.querySelectorAll(`[data-id="${c}"]`)).forEach(b=>{b.setAttribute("data-done","false")})):(a.classList.contains("todo-item")&&d.classList.add("vibrate"),todoarray.find(a=>a.id===+c).done="true",Array.from(document.querySelectorAll(`[data-id="${c}"]`)).forEach(b=>{b.setAttribute("data-done","true")})),checktodo(),savetodo(),setTimeout(function(){d.classList.remove("vibrate")},1e3)}function donecheck(){const a=document.createElement("div"),b=document.getElementById("toDoDone"),c=document.getElementById("removeDone");a.innerText=`${ko?"\uC644\uB8CC\uD55C \uC77C\uC815\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.":"Nothing has done yet."}`,a.className="nothing",0===b.querySelectorAll("[data-done='true']").length?(0===b.getElementsByClassName("nothing").length&&b.prepend(a),c.classList.add("hide")):(0!==b.getElementsByClassName("nothing").length&&b.removeChild(b.querySelector(".nothing")),c.classList.remove("hide"))}function modifytodo(a){function b(a){a.preventDefault(),""!==d.value&&(todoarray.find(a=>a.id===+g).text=d.value,Array.from(document.querySelectorAll(`[data-id="${g}"]`)).forEach(b=>{b.querySelector(".todo-text").innerText=d.value}),d.value="",savetodo(),f.classList.remove("reveal"))}const c=a.target.parentNode.parentNode,d=document.getElementById("modify"),f=document.getElementById("modify-popup"),g=c.getAttribute("data-id");f.classList.add("reveal"),f.querySelector(".btn.submit").addEventListener("click",b),document.getElementById("modifyForm").addEventListener("submit",b),Array.from(f.querySelectorAll(".btn")).forEach(b=>{b.addEventListener("click",function(){b.parentNode.parentNode.classList.remove("reveal"),d.value=""})}),setTimeout(function(){d.value=c.querySelector(".todo-text").innerText,d.focus()},100)}function todosubmit(a){const b=todoinput.value;a.preventDefault(),""!==b&&addtodo(b,"false","false")}function search(a){const b=searchinput.value;a.preventDefault(),""!==b&&(document.getElementById("google").checked&&(location.href=`https://www.google.com/search?q=${b}`),document.getElementById("duckduckgo").checked&&(location.href=`https://duckduckgo.com/?q=${b}`),document.getElementById("bing").checked&&(location.href=`https://www.bing.com/search?q=${b}`),document.getElementById("naver").checked&&(location.href=`https://search.naver.com/search.naver?ie=UTF-8&query=${b}`))}function savetodo(){user.toDo=todoarray,saveData()}function loadtodo(){0!==user.toDo.length&&user.toDo.forEach(a=>{addtodo(a.text,a.important,a.done)})}function cleartodo(){todoarray=[],todolist.innerHTML="",checktodo(),savetodo()}function checkGeo(){0===user.location.latitude&&""===user.location.city?navigator.geolocation.getCurrentPosition(getGeolocation,geoError):getWeather(`${""===user.location.city?"coord":"city"}`)}function getGeolocation(a){user.location.latitude=a.coords.latitude,user.location.longitude=a.coords.longitude,console.log(a),saveData(),getWeather("coord")}function geoError(){user.location.city="seoul",saveData(),getWeather("city")}function handleLocation(a){a.preventDefault(),user.location.city=document.getElementById("location").value,saveData(),getWeather("city")}function getWeather(a){document.getElementById("weather").innerHTML="",fetch(`${"coord"===a?`https://api.openweathermap.org/data/2.5/weather?lat=${user.location.latitude}&lon=${user.location.longitude}&appid=efe04316ea5b327e995a9b5e40d9ab34&units=metric`:`https://api.openweathermap.org/data/2.5/weather?q=${user.location.city}&appid=efe04316ea5b327e995a9b5e40d9ab34&units=metric`}`).then(b=>b.json()).then(b=>{const a=b.weather[0],c=document.createElement("span"),d=document.createElement("span"),e=document.createElement("span"),f=document.createElement("span"),g=document.createElement("div");c.className=weatherico(a.icon),c.setAttribute("title",a.description),e.innerText=`${b.main.temp}°C`,f.innerText=b.name,d.className="txt-wrapper",d.append(e,f),document.getElementById("weather").append(c,d),g.id="detailWeather",g.classList.add("dropdown_content"),g.append(c.cloneNode()),document.body.append(g)})}function weatherico(a){let b;return"01d"===a&&(b="sun2"),"01n"===a&&(b="moon1"),"02d"===a&&(b="cloudy2"),"02n"===a&&(b="cloud3"),("03d"===a||"03n"===a)&&(b="cloud4"),("04d"===a||"04n"===a)&&(b="cloudy3"),("09d"===a||"09n"===a)&&(b="rainy3"),("10d"===a||"10n"===a)&&(b="rainy2"),("11d"===a||"11n"===a)&&(b="lightning4"),("13d"===a||"13n"===a)&&(b="snowy4"),"50d"===a&&(b="weather"),"50n"===a&&(b="weather1"),`icon-${b}`}function toast(a){const b=document.getElementById("toast");b.classList.add("reveal"),b.innerText=a,setTimeout(function(){b.classList.remove("reveal")},3e3)}function checksure(a,b){const c=document.getElementById("rusure"),d=document.createElement("div"),e=document.createElement("div"),f=document.createElement("span"),g=document.createElement("span");c.innerHTML="",d.innerHTML=a,f.innerText=`${ko?"\uD655\uC778":"Yes"}`,g.innerText=`${ko?"\uCDE8\uC18C":"Cancel"}`,d.className="title",e.classList.add("btn-wrapper","right"),f.className="btn",g.className="btn",f.addEventListener("click",function(){"todo"===b&&cleartodo(),"reset"===b&&(reset(),setTimeout(function(){location.reload()},500)),c.classList.remove("reveal")}),g.addEventListener("click",function(){c.classList.remove("reveal")}),c.classList.add("reveal"),e.append(f,g),c.append(d,e)}function savedday(){const a=document.getElementById("dateInput").value;""===a?toast(`${ko?"\uB0A0\uC9DC\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694.":"It's not a valid date."}`):(user.dDay=a,saveData(),toast(`${ko?"\uC800\uC7A5\uB410\uC2B5\uB2C8\uB2E4":"Saved"}`),loaddday())}function removedday(){user.dDay=0,saveData(),toast(`${ko?"\uC0AD\uC81C\uD588\uC2B5\uB2C8\uB2E4.":"Removed"}`),document.getElementById("header").querySelector(".flex-center").innerHTML=""}function loaddday(){const a=document.getElementById("header").querySelector(".flex-center"),b=user.dDay,c=document.createElement("div");let d,e,f,g;document.getElementById("header").querySelector(".flex-center").innerHTML="",0!==b&&""!==b&&(d=new Date(b).getTime(),e=new Date().getTime(),f=d-e,g=Math.floor(f/864e5),c.className="d-day",c.innerText=0<=g?0<g?`D - ${g}`:"D- Day":`D + ${-g}`,c.setAttribute("title",b),a.append(c))}function dropdown(a){const b=document.getElementById(a);Array.from(document.querySelectorAll(".dropdown_content.reveal")).forEach(c=>{c!==b&&c.classList.remove("reveal")}),b.classList.toggle("reveal")}function randomquotes(){let a="\uB098\uC5F0",b="\uC815\uC5F0",c="\uBAA8\uBAA8",d="\uC0AC\uB098",e="\uC9C0\uD6A8",f="\uBBF8\uB098",g="\uB2E4\uD604",h="\uCC44\uC601",i="\uCBD4\uC704";ko||(a="Nayeon",b="Jeongyeon",c="Momo",d="Sana",e="Jihyo",f="Mina",g="Dahyeon",h="Chaeyoung",i="Tzuyu");const j=[{name:"TWICE",text:`${ko?"One in a million, \uC548\uB155\uD558\uC138\uC694 \uD2B8\uC640\uC774\uC2A4\uC785\uB2C8\uB2E4.":"One in a million, Hello we are TWICE."}`},{name:d,text:`${ko?"\uC778\uC0DD\uC740 \uBAA8\uB974\uB294 \uAC83":"Life is something you don't know."}`},{name:d,text:`${ko?"\uC778\uC0DD\uC740 \uB208\uCE58":"Sense is the most important thing in life."}`},{name:h,text:`${ko?"\uC774\uAC8C \uD589\uBCF5\uC774\uC9C0 \uBAA8":"That's what happiness is."}`},{name:h,text:`${ko?"\uC8FC\uC5B4\uC9C4 \uC77C\uD574 \uCD5C\uC120\uC744 \uB2E4\uD558\uC790":"Do the best."}`},{name:i,text:`${ko?"\uB118\uC5B4\uC84C\uC744 \uB550 \uC54C\uC544\uC11C \uC77C\uC5B4\uB098\uB77C":"Just jump up when you fall down."}`},{name:i,text:`${ko?"\uB098\uC05C \uC0AC\uB78C\uC744 \uB9CC\uB098\uBA74 \uD53C\uD558\uB77C":"Avoid bad people when you face them."}`}],k=j[Math.round(Math.random()*(j.length-1))],l=document.getElementById("quotes");l.querySelector(".name").innerText=k.name,l.querySelector(".text").innerText=`"${k.text}"`}function toggleadd(){document.getElementById("links-list").classList.toggle("add"),document.getElementById("url-name").value="",document.getElementById("url-url").value=""}function addbookmark(b,c){const d=bmknumber,e=document.createElement("div"),f=document.createElement("span"),g=document.createElement("a");f.className="icon-close",g.innerText=b,g.href=c,g.setAttribute("target","_blank"),f.addEventListener("click",deletebookmark),e.setAttribute("data-id",d),e.append(g,f),bmlist.append(e),document.getElementById("url-name").value="",document.getElementById("url-url").value="",bookmarkarray.push({name:b,url:c,id:d}),savebookmark(),bmknumber++}function loadbookmark(){const a=user.bookmark;0!==a.length&&a.forEach(b=>{addbookmark(b.name,b.url)})}function bookmarksubmit(a){let b=document.getElementById("url-name").value,c=document.getElementById("url-url").value;const d=/https?:\/\//g;a.preventDefault(),""!==c&&(""===b&&(b=c),!d.test(c)&&(c=`http://${c}`),addbookmark(b,c))}function deletebookmark(a){const b=a.target.parentNode,c=bookmarkarray.filter(function(c){return c.id!==+b.getAttribute("data-id")});console.log(a.target.parentNode),bookmarkarray=c,savebookmark(),setTimeout(function(){bmlist.removeChild(b)},10)}function savebookmark(){user.bookmark=bookmarkarray,saveData()}function youtubeVideo(){const a=[];return!0===document.getElementById("bgMV").checked&&a.pushArray(["c7rCyll5AeY","ePpPVE-GGJw","8A2t_tAjMz8","VQtonf1fv_s","V2hlQkVJZhE","rRzxEiBLQCA","Fm5iP0S1z9w","CfUGjK6gGgs","kOHB85vDuow","0rtV5esQT6I","zi_6oaQyckM","i0p1bmr0EmE","mAKsZ26SabQ","3ymwOvzhwHs"]),!0===document.getElementById("bgB").checked&&a.pushArray(["nY7Kyl9XnNM","D_0qYiQN9ck","6J-2s2h45v8"]),!0===document.getElementById("bgSM").checked&&a.pushArray(["2BlwXXVCAFM","akV2TlH38oY","qY22HPfafSQ","3L0M9qLhLzs","u2bFGPsxep4","OkGay7vlWIY"]),a[Math.round(Math.random()*(a.length-1))]}function onYouTubePlayerAPIReady(){const a=youtubeVideo(),b=["c7rCyll5AeY","0rtV5esQT6I","zi_6oaQyckM","i0p1bmr0EmE","mAKsZ26SabQ","3ymwOvzhwHs"],c=document.getElementById("videoWrapper");document.getElementById("mvbg").checked&&(b.includes(a)&&c.classList.add("expand"),p=new YT.Player("player",{height:"100%",width:"100%",playerVars:{rel:0,playsinline:1,vq:"hd1080",autoplay:1,loop:1,playlist:a,controls:0,autohide:1,showinfo:0,wmode:"opaque"},videoId:a,events:{onReady:onPlayerReady}}),p.addEventListener("onStateChange",function(a){let d;0===a.data&&!0===document.getElementById("playRandom").checked&&(d=youtubeVideo(),p.loadVideoById(d),b.includes(d)?c.classList.add("expand"):c.classList.remove("expand"))}))}function onPlayerReady(b){b.target.playVideo(),b.target.mute(),document.getElementById("bg").classList.add("loaded"),loadbgopacity()}function toggleSound(){p.isMuted()?p.unMute():p.mute()}function toggleplay(){1===p.getPlayerState()?p.pauseVideo():p.playVideo()}function handleVisibilityChange(){!0===document.getElementById("mvbg").checked&&(document.hidden&&!0===document.getElementById("pauseVisibility").checked?p.pauseVideo():p.playVideo())}function toggleFullScreen(){const e=window.document,a=e.documentElement,b=a.requestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullScreen||a.msRequestFullscreen,c=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?c.call(e):b.call(a)}function initFocus(){0<=user.focus.time-new Date().getTime()&&1===user.focus.state&&(focus.classList.add("focusing","reveal"),focusTimer(),focusInterval()),2===user.focus.state&&(focus.classList.add("paused","reveal"),document.getElementById("focusCircle").style.strokeDashoffset=440*((user.focus.ms-(user.focus.time-user.focus.pausedTime))/user.focus.ms))}function focusTimer(){const a=user.focus.time-new Date().getTime(),b=document.getElementById("focusCircle"),c={type:"basic",title:`${ko?"\uC218\uACE0\uD558\uC168\uC2B5\uB2C8\uB2E4!":"Well Done!"}`,message:`${ko?"\uC124\uC815\uD558\uC2E0 \uC2DC\uAC04\uC774 \uBAA8\uB450 \uD758\uB800\uC2B5\uB2C8\uB2E4. \uC7A0\uC2DC \uD734\uC2DD\uC744 \uCDE8\uD558\uC2DC\uB294 \uAC8C \uC5B4\uB5A8\uAE4C\uC694?":"Your focus time has done. Why don't you take a break?"}`,iconUrl:"icon128.png"};0<=a?b.style.strokeDashoffset=440*((user.focus.ms-a)/user.focus.ms):(clearInterval(focusing),user.focus.state=0,saveData(),focus.classList.remove("focusing"),b.style.strokeDashoffset=0)}function focusInterval(){focusing=setInterval(function(){focusTimer()},1e3)}function focusSubmit(a){a.preventDefault(),time=+document.getElementById("focusTime").value;const b=new Date().getTime()+6e4*time;0<=time?(user.focus.state=1,user.focus.time=b,user.focus.ms=6e4*time,saveData(),user.focus.time=b,user.focus.ms=6e4*time,focus.classList.add("focusing"),focusInterval()):toast(`${ko?"1 \uC774\uC0C1\uC758 \uC218\uB97C \uC785\uB825\uD574\uC8FC\uC138\uC694":"Numerber should be bigger than 0"}`)}function focusPause(){clearInterval(focusing),user.focus.state=2,user.focus.pausedTime=new Date().getTime(),saveData(),focus.classList.remove("focusing"),focus.classList.add("paused")}function focusReStart(){user.focus.state=1,user.focus.time=user.focus.time+new Date().getTime()-user.focus.pausedTime,saveData(),focus.classList.remove("paused"),focus.classList.add("focusing"),focusInterval()}function focusStop(){clearInterval(focusing),user.focus.state=0,user.focus.pausedTime=0,saveData(),focus.classList.remove("focusing","paused"),document.getElementById("focusCircle").style.strokeDashoffset=0}init(),checkGeo(),initelem(),loadsetting(),loadradio(),randombg(),clock(),getname(),setgreetings(),loadtodo(),loaddday(),randomquotes(),loadbookmark(),displaydone(),initFocus(),document.addEventListener("visibilitychange",handleVisibilityChange,!1),document.getElementById("toDoForm").addEventListener("submit",todosubmit),document.getElementById("searchForm").addEventListener("submit",search),document.getElementById("bookmarkForm").addEventListener("submit",bookmarksubmit),document.getElementById("bookmarkForm2").addEventListener("submit",bookmarksubmit),document.getElementById("focusTimeForm").addEventListener("submit",focusSubmit),setInterval(function(){clock()},500),document.getElementById("opensett").addEventListener("click",function(){this.classList.toggle("actv")}),Array.prototype.pushArray=function(a){this.push.apply(this,a)},Array.from(document.querySelectorAll(".dropdown_btn")).forEach(b=>{b.addEventListener("click",function(){dropdown(this.getAttribute("data-target"))})}),Array.from(document.querySelectorAll(".switch")).forEach(d=>{const a=d.querySelector("input"),b=a.getAttribute("type");"checkbox"===b&&d.addEventListener("click",function(){savesetting(a.id,`${a.checked?1:0}`)}),"radio"===b&&d.addEventListener("click",function(){saveradio(a.id,a.name)})}),Array.from(document.querySelectorAll(".s_input")).forEach(b=>{b.addEventListener("input",function(){savesetting(b.id,b.value)})}),ko?(Array.from(document.querySelectorAll("[data-en]")).forEach(b=>{b.removeAttribute("data-en")}),Array.from(document.querySelectorAll("[data-enpl]")).forEach(b=>{b.removeAttribute("data-enpl")})):(document.title="New tab",document.documentElement.setAttribute("lang","en"),Array.from(document.querySelectorAll("[data-en]")).forEach(b=>{b.innerText=b.getAttribute("data-en"),b.removeAttribute("data-en")}),Array.from(document.querySelectorAll("[data-enpl]")).forEach(b=>{b.setAttribute("placeholder",b.getAttribute("data-enpl")),b.removeAttribute("data-enpl")})),Array.from(labeltarget).forEach(b=>{b.addEventListener("click",function(){hideelem(this.getAttribute("data-target"))})}),document.querySelector(".clearAll").addEventListener("click",function(){checksure(`${ko?"\uBAA8\uB450 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?":"Clear to do list"}`,"todo")}),document.getElementById("reset").addEventListener("click",function(){checksure(`${ko?"\uCD08\uAE30\uD654 \uD6C4\uC5D0\uB294 \uBCF5\uAD6C\uAC00 \uBD88\uAC00\uB2A5\uD569\uB2C8\uB2E4.<br>\uACC4\uC18D \uC9C4\uD589\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?":"This will reset everything.<br>Are you sure you want to do that?"}`,"reset")}),document.getElementById("removeDone").addEventListener("click",deletedonetodo),document.getElementById("datesubmit").addEventListener("click",savedday),document.getElementById("dateremove").addEventListener("click",removedday),document.getElementById("bgopacity").addEventListener("input",bgopacity),document.getElementById("bgopacity").addEventListener("change",savebgopacity),document.getElementById("add-new").addEventListener("click",toggleadd),document.getElementById("cancel-add-new").addEventListener("click",toggleadd),document.getElementById("openToDo").addEventListener("click",donecheck),document.getElementById("renameSubmit").addEventListener("click",rename),document.getElementById("focusStart").addEventListener("click",focusSubmit),document.getElementById("focusPause").addEventListener("click",focusPause),document.getElementById("focusStop").addEventListener("click",focusStop),document.getElementById("focusReStart").addEventListener("click",focusReStart),document.getElementById("locationForm").addEventListener("submit",handleLocation),document.getElementById("locationSubmit").addEventListener("click",handleLocation),document.getElementById("main").addEventListener("click",toggleFullScreen),window.onclick=function(a){const b=a.target;donecheck(),b.matches("#modify-popup, #modify-popup *, .icon-pencil")||document.getElementById("modify-popup").classList.remove("reveal"),b.matches(".todo-item.option, .todo-item.option *")||Array.from(document.querySelectorAll(".todo-item.option")).forEach(b=>{b.classList.remove("option")}),b.matches(".dropdown_btn, .dropdown_btn *, .dropdown_content, .dropdown_content *")||Array.from(document.querySelectorAll(".dropdown_content")).forEach(b=>{b.classList.remove("reveal")}),b.matches("#opensett, #setting, #setting *")||document.getElementById("opensett").classList.remove("actv"),b.matches(".clearAll, #rusure, #rusure *, #reset")||document.getElementById("rusure").classList.remove("reveal")},window.onblur=function(){!0===document.getElementById("mvbg").checked&&!0===document.getElementById("pauseFocus").checked&&p.pauseVideo()},window.onfocus=function(){!0===document.getElementById("mvbg").checked&&!0===document.getElementById("pauseFocus").checked&&p.playVideo()},document.addEventListener("keydown",function(a){const b=a.code;"INPUT"===a.target.nodeName||("Space"===b&&document.body.classList.toggle("bgonly"),"KeyM"===b&&toggleSound(),"KeyF"===b&&toggleFullScreen(),"KeyP"===b&&toggleplay()),"Escape"===b&&(Array.from(document.querySelectorAll(".reveal")).forEach(b=>{b!==document.querySelector(".clearallwrapper")&&b!==document.body&&b.classList.remove("reveal")}),Array.from(document.querySelectorAll(".todo-item")).forEach(b=>{b.classList.remove("option")}),Array.from(document.querySelectorAll("input")).forEach(b=>{b.blur()}),document.getElementById("opensett").classList.remove("actv"))}),document.addEventListener("keyup",function(a){const b=a.code;"INPUT"===a.target.nodeName||("KeyA"===b&&todoinput.focus(),"KeyS"===b&&searchinput.focus())}),document.body.classList.add("reveal");